<mat-sidenav-container autosize class="app-container">
    <mat-sidenav
        class="!w-auto !border-r !border-gray-300 !rounded-none"
        fixedInViewport="true"
        mode="side"
        opened
        role="navigation"
    >
        <div class="flex flex-col h-full">
            <div class="px-2 py-4">
                <button class="flex items-center gap-1" mat-button routerLink="/">
                    <mat-icon>dashboard</mat-icon>
                    Control Center
                </button>
            </div>
            <v-nav [links]="links$ | async" class="block" exact></v-nav>
            <div class="mt-auto px-2 py-4">
                <button [matMenuTriggerFor]="userMenu" class="flex items-center gap-2" mat-button>
                    <mat-icon>account_circle</mat-icon>
                    {{ username() }}
                </button>
                <mat-menu #userMenu="matMenu">
                    <button mat-menu-item (click)="logout()">Logout</button>
                </mat-menu>
            </div>
        </div>
    </mat-sidenav>
    <mat-sidenav-content role="main">
        <router-outlet></router-outlet>
    </mat-sidenav-content>
    <mat-sidenav
        [opened]="sidenavInfoService.opened$ | async"
        class="sidenav-info"
        fixedInViewport="true"
        mode="side"
        position="end"
        style="border-left: 1px solid #ddd; border-radius: 0"
    >
        <cc-sidenav-info></cc-sidenav-info>
    </mat-sidenav>
</mat-sidenav-container>
