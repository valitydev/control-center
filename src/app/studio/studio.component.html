<cc-page-layout [formGroup]="studioGroup" title="Studio">
    <v-select-field
        [options]="serviceOptions"
        formControlName="service"
        label="Service"
    ></v-select-field>
    @if (studioGroup.get('service')?.value) {
        <v-select-field
            [options]="methodOptions$ | async"
            formControlName="method"
            label="Method"
        ></v-select-field>
    }
    @if (studioGroup.get('method')?.value) {
        <div class="text-lg">Method Arguments</div>
        @for (arg of studioGroup.get('method').value.args; track arg) {
            <div>{{ arg.name | ngtValueTypeTitle | titlecase }}</div>
            <v-thrift-editor
                [metadata]="studioGroup.get('service').value.metadata$ | async"
                [namespace]="(namespaceMetadata$ | async)?.name"
                [type]="arg.type"
                formControlName="params"
            ></v-thrift-editor>
        }
    }
</cc-page-layout>
