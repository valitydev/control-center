<v-dialog [inProgress]="isLoading$ | async" title="Create deposit">
    <form *ngIf="form" [formGroup]="form" fxLayout="column" fxLayoutGap="16px">
        <div fxLayout fxLayoutGap="24px">
            <mat-form-field fxFlex>
                <input formControlName="destination" matInput placeholder="Destination" required />
            </mat-form-field>
            <mat-form-field fxFlex>
                <input
                    formControlName="amount"
                    matInput
                    placeholder="Amount"
                    required
                    type="number"
                />
            </mat-form-field>
        </div>
        <div fxLayout fxLayoutGap="24px">
            <mat-form-field fxFlex>
                <mat-label>Currency</mat-label>
                <mat-select formControlName="currency" required>
                    <mat-option *ngFor="let source of sources$ | async" [value]="source">
                        {{ source.currency_symbolic_code }}
                    </mat-option>
                </mat-select>
            </mat-form-field>
            <div fxFlex></div>
        </div>
    </form>
    <v-dialog-actions>
        <button
            [disabled]="(isLoading$ | async) || form.invalid"
            color="primary"
            mat-button
            (click)="createDeposit()"
        >
            CREATE
        </button>
    </v-dialog-actions>
</v-dialog>
