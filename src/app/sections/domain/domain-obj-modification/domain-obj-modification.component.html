<cc-page-layout title="Edit {{ type$ | async }}">
    <div *ngIf="progress$ | async; else content" style="display: flex; justify-content: center">
        <mat-spinner></mat-spinner>
    </div>
    <ng-template #content>
        <mat-card>
            <mat-card-content class="content">
                <cc-thrift-editor
                    [codeLensProviders]="codeLensProviders"
                    [completionProviders]="completionProviders"
                    [defaultValue]="object$ | async"
                    [extensions]="extensions$ | async"
                    [formControl]="control"
                    [metadata]="metadata$ | async"
                    [type]="type$ | async"
                    class="editor"
                    namespace="domain"
                ></cc-thrift-editor>
            </mat-card-content>
        </mat-card>
        <v-actions>
            <button mat-button (click)="backToDomain()">
                <mat-icon aria-label="Login">keyboard_arrow_left</mat-icon>
                Back to domain
            </button>
            <button
                [disabled]="control.invalid"
                color="primary"
                mat-button
                (click)="reviewChanges()"
            >
                Review changes
                <mat-icon aria-label="Login">keyboard_arrow_right</mat-icon>
            </button>
        </v-actions>
    </ng-template>
</cc-page-layout>
