<div class="content" gdGap="32px" gdColumns="1fr" *ngIf="claim$ | async as claim">
    <div gdGap="16px" gdColumns="1fr">
        <div fxLayoutAlign="space-between center">
            <h1 class="cc-display-1">
                Claim <span class="cc-secondary-text">#{{ claim.id }}</span>
            </h1>
            <h1 class="cc-display-1">
                <cc-status [color]="statusColor[claim.status | ccUnionKey]">{{
                    claim.status | ccUnionKey | keyTitle | titlecase
                }}</cc-status>
            </h1>
        </div>
        <div fxLayoutAlign="space-between center" *ngIf="party$ | async as party">
            <span class="cc-subheading-2 cc-secondary-text">
                <a class="cc-secondary-text" routerLink="/claims">Claims</a> / Claim details
            </span>
            <span class="cc-subheading-2 cc-secondary-text">
                {{ party.contact_info.email }} (#{{ party.id }})
            </span>
        </div>
    </div>
    <div gdGap="24px" gdColumns="1fr">
        <h2 class="cc-headline">Changeset</h2>
        <cc-timeline>
            <cc-timeline-item>
                <cc-timeline-item-badge>
                    <mat-icon>create</mat-icon>
                </cc-timeline-item-badge>
                <cc-timeline-item-title>
                    <cc-timeline-item-header
                        text="Claim created"
                        [createdAt]="claim.created_at"
                    ></cc-timeline-item-header>
                </cc-timeline-item-title>
            </cc-timeline-item>
            <ng-container
                *ngFor="let modificationUnit of claim.changeset"
                [ngSwitch]="modificationUnit.modification | ccUnionKey"
            >
                <ng-container
                    *ngSwitchCase="'party_modification'"
                    [ngSwitch]="modificationUnit.modification | ccUnionValue | ccUnionKey"
                >
                    <cc-shop-modification-timeline-item
                        *ngSwitchCase="'shop_modification'"
                        [modificationUnit]="modificationUnit"
                    >
                    </cc-shop-modification-timeline-item>
                    <cc-modification-unit-timeline-item
                        *ngSwitchDefault
                        [modificationUnit]="modificationUnit"
                    ></cc-modification-unit-timeline-item>
                </ng-container>
                <ng-container
                    *ngSwitchCase="'claim_modification'"
                    [ngSwitch]="modificationUnit.modification | ccUnionValue | ccUnionKey"
                >
                    <cc-status-modification-timeline-item
                        *ngSwitchCase="'status_modification'"
                        [modificationUnit]="modificationUnit"
                    >
                    </cc-status-modification-timeline-item>
                    <cc-comment-modification-timeline-item
                        *ngSwitchCase="'comment_modification'"
                        [modificationUnit]="modificationUnit"
                    >
                    </cc-comment-modification-timeline-item>
                    <cc-modification-unit-timeline-item
                        *ngSwitchDefault
                        [modificationUnit]="modificationUnit"
                    ></cc-modification-unit-timeline-item>
                </ng-container>
                <cc-modification-unit-timeline-item
                    *ngSwitchDefault
                    [modificationUnit]="modificationUnit"
                ></cc-modification-unit-timeline-item>
            </ng-container>
        </cc-timeline>
    </div>
</div>
