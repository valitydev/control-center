<div fxLayout="column" fxLayoutGap="64px">
    <cc-routing-ruleset-header
        [backTo]="
            'party/' +
            (partyID$ | async) +
            '/routing-rules/' +
            (routingRulesType$ | async) +
            '/' +
            (partyRulesetRefID$ | async)
        "
        [description]="(shop$ | async)?.details?.name"
        [refID]="(shopRuleset$ | async)?.ref?.id"
        (add)="addShopRule()"
    >
        Routing rules
    </cc-routing-ruleset-header>

    <v-table
        [columns]="columns"
        [data]="(candidates$ | async) || []"
        [progress]="isLoading$ | async"
    ></v-table>
</div>

<ng-template #terminalTpl>
    <cc-thrift-viewer
        [metadata]="metadata$ | async"
        [value]="(terminalsMapID$ | async)[openedCandidate.terminal.id]"
        namespace="domain"
        type="TerminalObject"
    ></cc-thrift-viewer>
</ng-template>

<ng-template #candidateTpl>
    <cc-thrift-viewer
        [metadata]="metadata$ | async"
        [value]="openedCandidate"
        namespace="domain"
        type="RoutingCandidate"
    ></cc-thrift-viewer>
</ng-template>
