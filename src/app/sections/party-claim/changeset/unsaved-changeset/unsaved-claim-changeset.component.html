<div *ngIf="(unsavedChangesetInfos$ | async)?.length > 0" fxLayout="column" fxLayoutGap="24px">
    <div fxLayout="row" fxLayoutAlign="space-between center">
        <h3 class="cc-title">Unsaved changes</h3>
        <button [disabled]="inProgress$ | async" color="primary" mat-raised-button (click)="save()">
            SAVE CHANGES
        </button>
    </div>
    <cc-timeline>
        <ng-container
            *ngFor="
                let info of unsavedChangesetInfos$ | async;
                let i = index;
                trackBy: simpleTrackBy
            "
        >
            <cc-file-timeline-item
                *ngIf="info.type === changesetInfoTypes.fileModification"
                [changesetInfo]="info"
                [menuConfig]="fileMenuConfig"
                (menuItemSelected)="menuItemSelected($event, i)"
            ></cc-file-timeline-item>
            <cc-comment-timeline-item
                *ngIf="info.type === changesetInfoTypes.commentModification"
                [changesetInfo]="info"
                [menuConfig]="commentMenuConfig"
                (menuItemSelected)="menuItemSelected($event, i)"
            ></cc-comment-timeline-item>
            <cc-party-modification-timeline-item
                *ngIf="info.type === changesetInfoTypes.partyModification"
                [changesetInfo]="info"
                [menuConfig]="partyModMenuConfig"
                (menuItemSelected)="menuItemSelected($event, i)"
            ></cc-party-modification-timeline-item>
            <cc-status-timeline-item
                *ngIf="info.type === changesetInfoTypes.statusModification"
                [changesetInfo]="info"
            ></cc-status-timeline-item>
        </ng-container>
    </cc-timeline>
</div>
