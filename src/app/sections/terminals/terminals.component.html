<cc-page-layout title="Terminals">
    <cc-page-layout-actions></cc-page-layout-actions>
    <v-input-field [formControl]="searchControl" label="Search"></v-input-field>
    <v-table
        [(sort)]="sort"
        [columns]="columns"
        [data]="data$ | async"
        [progress]="progress$ | async"
        size="50"
        sortOnFront
        (update)="update()"
    >
        <v-table-actions>
            <button color="primary" mat-raised-button (click)="create()">Create</button>
        </v-table-actions>
    </v-table>
</cc-page-layout>

<ng-template #terminalTpl>
    <cc-domain-thrift-viewer
        [value]="openedTerminal"
        type="TerminalObject"
    ></cc-domain-thrift-viewer>
</ng-template>
<ng-template #providerTpl>
    <cc-domain-thrift-viewer
        [value]="openedProvider"
        type="ProviderObject"
    ></cc-domain-thrift-viewer>
</ng-template>
<ng-template #routingRulesTpl>
    <mat-accordion>
        <mat-expansion-panel *ngFor="let rule of openedRoutingRules">
            <mat-expansion-panel-header>
                <mat-panel-title>
                    {{ rule.data.name }}
                </mat-panel-title>
                <mat-panel-description>
                    #{{ rule.ref.id
                    }}<ng-container *ngIf="rule.data.description">
                        ({{ rule.data.description }})</ng-container
                    >
                </mat-panel-description>
            </mat-expansion-panel-header>
            <ng-template matExpansionPanelContent>
                <cc-domain-thrift-viewer
                    [value]="rule"
                    type="RoutingRulesObject"
                ></cc-domain-thrift-viewer>
            </ng-template>
            <!--            <mat-action-row>-->
            <!--                <button color="primary" mat-button (click)="()">Go to routing rules</button>-->
            <!--            </mat-action-row>-->
        </mat-expansion-panel>
    </mat-accordion>
</ng-template>
