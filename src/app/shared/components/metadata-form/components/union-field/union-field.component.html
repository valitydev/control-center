<div gdColumns="1fr" gdGap="16px">
    <mat-form-field style="width: 100%">
        <mat-label><cc-field-label [data]="data"></cc-field-label></mat-label>
        <mat-select
            [formControl]="fieldControl"
            (ngModelChange)="cleanInternal()"
            [required]="data.field?.option === 'required'"
        >
            <mat-option *ngFor="let field of data.ast" [value]="field">{{
                field.name | keyTitle | titlecase
            }}</mat-option>
        </mat-select>
        <button
            matSuffix
            mat-icon-button
            *ngIf="fieldControl.value && data.field?.option !== 'required'"
            (click)="fieldControl.reset(); $event.stopPropagation()"
        >
            <mat-icon>clear</mat-icon>
        </button>
    </mat-form-field>
    <cc-metadata-form
        *ngIf="fieldControl.value"
        [formControl]="internalControl"
        [metadata]="data.metadata"
        [namespace]="data.namespace"
        [type]="fieldControl.value.type"
        [field]="fieldControl.value"
        [parent]="data"
        [extensions]="data.extensions"
    ></cc-metadata-form>
</div>
