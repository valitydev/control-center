<div style="display: grid; grid-template-columns: 1fr; gap: 16px">
    <mat-form-field style="width: 100%">
        <mat-label>{{ data.type | fieldLabel: data.field }}</mat-label>
        <mat-select
            [formControl]="fieldControl"
            [required]="data.isRequired"
            (ngModelChange)="cleanInternal()"
        >
            <mat-option *ngFor="let field of data.ast" [value]="field">{{
                field.type | fieldLabel: field
            }}</mat-option>
        </mat-select>
        <button
            *ngIf="!data.isRequired"
            [disabled]="!fieldControl.value"
            mat-icon-button
            matSuffix
            (click)="fieldControl.reset(); $event.stopPropagation()"
        >
            <mat-icon>clear</mat-icon>
        </button>
    </mat-form-field>
    <cc-metadata-form
        *ngIf="fieldControl.value"
        [extensions]="extensions"
        [field]="fieldControl.value"
        [formControl]="internalControl"
        [metadata]="data.metadata"
        [namespace]="data.namespace"
        [parent]="data"
        [type]="fieldControl.value.type"
    ></cc-metadata-form>
</div>
