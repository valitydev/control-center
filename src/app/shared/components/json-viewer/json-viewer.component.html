<ng-container *ngIf="view?.items$ | async as items">
    <div *ngIf="items?.length; else onlyValue" gdColumns="1fr" gdGap="16px">
        <div gdColumns="1fr 1fr 1fr" gdGap="16px">
            <div
                *ngFor="let item of view.leaves$ | async; let i = index"
                gdColumns="1fr"
                gdGap="8px"
            >
                <div class="cc-caption cc-secondary-text">
                    <div *ngIf="item.path$ | async as path">
                        <ng-container *ngFor="let pathItem of path; let idx = index">
                            <cc-json-viewer
                                *ngIf="pathItem.key$ | async as key"
                                [data]="key.data$ | async"
                                [value]="key.value$ | async"
                            ></cc-json-viewer>
                            {{ idx !== path.length - 1 ? ' / ' : '' }}
                        </ng-container>
                    </div>
                </div>
                <div class="cc-body-1">
                    <cc-json-viewer
                        *ngIf="item.current$ | async as current"
                        [data]="current.data$ | async"
                        [value]="current.value$ | async"
                    ></cc-json-viewer>
                </div>
            </div>
        </div>

        <div *ngFor="let item of view?.nodes$ | async" gdColumns="1fr" gdGap="16px">
            <div *ngIf="item.path$ | async as path" [class]="className">
                <ng-container *ngFor="let pathItem of path; let idx = index">
                    <cc-json-viewer
                        *ngIf="pathItem.key$ | async as key"
                        [data]="key.data$ | async"
                        [value]="key.value$ | async"
                    ></cc-json-viewer>
                    {{ idx !== path.length - 1 ? ' / ' : '' }}
                </ng-container>
            </div>
            <cc-json-viewer
                *ngIf="item.current$ | async as current"
                [data]="current.data$ | async"
                [value]="current.value$ | async"
            ></cc-json-viewer>
        </div>
    </div>

    <ng-template #onlyValue>
        {{ view.value$ | async }}
    </ng-template>
</ng-container>
