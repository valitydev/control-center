<div class="mat-dialog-title">
    {{ action.name | ccModificationName : getContainerType(action.type) }}
</div>
<mat-dialog-content>
    <mat-vertical-stepper [selectedIndex]="currentStep">
        <mat-step>
            <ng-template matStepLabel>Prepare party modification target</ng-template>
            <cc-party-modification-target
                [fromClaim]="fromClaim"
                [partyID]="partyID"
                [partyTarget]="getPartyTarget(action.type)"
                [unitID]="unitID"
                (valueChanges)="unitIDChange($event)"
            >
            </cc-party-modification-target>
        </mat-step>
        <mat-step>
            <form>
                <ng-template matStepLabel>Fill in party modification params</ng-template>
                <cc-party-modification-creation
                    [action]="action"
                    [modification]="data?.modification?.modification"
                    [unitID]="unitID"
                    [unitIDDisabled]="true"
                    (statusChanges)="statusChanges($event)"
                    (valueChanges)="valueChanges($event)"
                >
                </cc-party-modification-creation>
            </form>
        </mat-step>
    </mat-vertical-stepper>
</mat-dialog-content>
<mat-dialog-actions *ngIf="initialized">
    <button [disabled]="isLoading || !valid" color="primary" mat-button (click)="apply()">
        Apply
    </button>
    <button [disabled]="isLoading" [mat-dialog-close]="false" mat-button>Cancel</button>
</mat-dialog-actions>
