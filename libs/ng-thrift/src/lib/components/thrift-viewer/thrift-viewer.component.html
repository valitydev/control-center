<div class="wrapper">
    @if (progress()) {
        <div>
            <div style="display: grid; grid-template-columns: 1fr; gap: 32px">
                <v-content-loading class="mat-title-large"></v-content-loading>
                <div style="display: grid; grid-template-columns: 1fr; gap: 16px">
                    <v-content-loading class="mat-body-large"></v-content-loading>
                    <v-content-loading class="mat-body-large"></v-content-loading>
                    <v-content-loading class="mat-body-large"></v-content-loading>
                    <v-content-loading class="mat-body-large"></v-content-loading>
                </div>
            </div>
        </div>
    } @else {
        @if (value()) {
            @if (isDiff()) {
                <ngx-monaco-diff-editor
                    [modifiedModel]="comparedFile()"
                    [options]="{ renderSideBySide: true, readOnly: true }"
                    [originalModel]="valueFile()"
                    class="monaco-editor"
                ></ngx-monaco-diff-editor>
            } @else {
                @switch (kind()) {
                    @case ('component') {
                        <v-thrift-tree-viewer [view]="view()"></v-thrift-tree-viewer>
                    }
                    @case ('editor') {
                        <ngx-monaco-editor
                            [ngModel]="valueFile().code"
                            [options]="{ readOnly: true, language: valueFile().language }"
                            class="monaco-editor"
                        >
                        </ngx-monaco-editor>
                    }
                }
            }
        }
    }
    @if (!isDiff()) {
        <div class="actions">
            <button [disabled]="progress()" mat-mini-fab (click)="toggleKind()">
                <mat-icon>
                    @switch (kind()) {
                        @case ('component') {
                            code_blocks
                        }
                        @case ('editor') {
                            view_comfy_alt
                        }
                    }
                </mat-icon>
            </button>
        </div>
    }
</div>
